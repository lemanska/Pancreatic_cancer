library(tidyverse)
library(here)
library(ggplot2)
#test figure of age
df_input <- read.delim(here("output", "input_main.csv"), header=TRUE, sep=",")
plot_age <- ggplot(data=df_input, aes(age)) + geom_histogram()
ggsave(
plot= plot_age,
filename="age_plot1.png", path=here::here("output"),
)
#fig of paca diagnosis over time
df_input$ca_date <- as.Date(df_input$ca_date,format = "%Y-%m-%d")
df_input$Month <- as.Date(cut(df_input$ca_date, breaks = "month"))
paca_time <- ggplot(data = df_input,
aes(Month, pa_ca)) +
stat_summary(fun = sum, geom = "line") + # or "bar"
scale_x_date(date_breaks = "2 month",
date_labels = "%Y-%m")+#%B
xlab("Time")+
ylab("Pa Ca diagn (count)")+
labs(colour = "Station")+
theme_bw()+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggsave(
plot= paca_time, dpi=800,width = 20,height = 10, units = "cm",
filename="paca_no.png", path=here::here("output"),
)
here()
measure_paca <- read.delim(here("output", "measures",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
View(measure_paca)
unique(measure_paca$date)
which(unique(measure_paca$date))
View(measure_paca)
distinct(measure_paca$date)
library(dplyr)
distinct(measure_paca$date)
class(measure_paca$date)
measure_paca$date
measure_paca$date <- as.Date(measure_paca$date,format = "%Y-%m-%d")
class(measure_paca$date)
measure_paca$Month <- as.Date(cut(measure_paca$date, breaks = "month"))
measure_paca$Month
measure_paca$date <- as.Date(measure_paca$date,format = "%Y-%m-%d")
measure_paca$Month <- as.Date(cut(measure_paca$date, breaks = "month"))
measure_paca$Month
df_input$Month
#fig of paca diagnosis over time
df_input$ca_date <- as.Date(df_input$ca_date,format = "%Y-%m-%d")
df_input$Month <- as.Date(cut(df_input$ca_date, breaks = "month"))
df_input$Month
class(df_input$Month)
distinct(measure_paca$date)
dat = data.frame(x=sample(1:10,100, replace=TRUE),
y=sample(letters[1:5], 100, replace=TRUE))
View(dat)
dat %>%
group_by(x,y) %>%
summarise() %>%
select(unique.x=x, unique.y=y)
dat %>%
group_by(x,y) %>%
summarise() %>%
select(unique.y=y)
dat %>%
group_by(x,y) %>%
summarise() %>%
select(unique.x=x)
dat %>% select(unique.x=x)
dat = data.frame(x=sample(1:10,100, replace=TRUE),
y=sample(letters[1:5], 100, replace=TRUE))
dat
dat %>% select(unique.x=x)
measure_paca %>% distinct(date)
measure_paca %>% distinct(date, .keep_all = TRUE)
measure_paca <- read.delim(here("output", "measures",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
measure_paca %>% distinct(date, .keep_all = TRUE)
measure_paca <- read.delim(here("output", "measures",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
measure_paca <- measure_paca %>% distinct(date, .keep_all = TRUE)
measure_paca$date <- as.Date(measure_paca$date,format = "%Y-%m-%d")
measure_paca$Month <- as.Date(cut(measure_paca$date, breaks = "month"))
View(measure_paca)
paca_rates <- ggplot(data = measure_paca,
aes(date, pa_ca)) +
stat_summary(fun = sum, geom = "line") + # or "bar"
scale_x_date(date_breaks = "2 month",
date_labels = "%Y-%m")+#%B
xlab("Time")+
ylab("Pa Ca diagn (count)")+
labs(colour = "Station")+
theme_bw()+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
paca_rates <- ggplot(data = measure_paca,
aes(date, pa_ca))
paca_rates <- ggplot(data = measure_paca,
aes(date, pa_ca)) +
#stat_summary(fun = sum, geom = "line") + # or "bar"
scale_x_date(date_breaks = "1 month",
date_labels = "%Y-%m")+#%B
xlab("Time")+
ylab("Pa Ca diagn (rate)")+
labs(colour = "Station")+
theme_bw()+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggsave(
plot= paca_time, dpi=600,width = 10,height = 10, units = "cm",
filename="paca_rate.png", path=here::here("output"),
)
paca_rates <- ggplot(data = measure_paca,
aes(date, pa_ca)) +
stat_summary(fun = sum, geom = "line") + # or "bar"
scale_x_date(date_breaks = "1 month",
date_labels = "%Y-%m")+#%B
xlab("Time")+
ylab("Pa Ca diagn (rate)")+
labs(colour = "Station")+
theme_bw()+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggsave(
plot= paca_time, dpi=600,width = 10,height = 10, units = "cm",
filename="paca_rate.png", path=here::here("output"),
)
paca_rates <- ggplot(data = measure_paca,
aes(date, pa_ca)) +
#stat_summary(fun = sum, geom = "line") + # or "bar"
scale_x_date(date_breaks = "1 month",
date_labels = "%Y-%m")+#%B
xlab("Time")+
ylab("Pa Ca diagn (rate)")+
labs(colour = "Station")+
theme_bw()+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggsave(
plot= paca_rates, dpi=600,width = 10,height = 10, units = "cm",
filename="paca_rate.png", path=here::here("output"),
)
paca_rates <- ggplot(data = measure_paca,
aes(date, pa_ca)) +
stat_summary(fun = sum, geom = "line") + # or "bar"
scale_x_date(date_breaks = "1 month",
date_labels = "%Y-%m")+#%B
xlab("Time")+
ylab("Pa Ca diagn (rate)")+
labs(colour = "Station")+
theme_bw()+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggsave(
plot= paca_rates, dpi=600,width = 10,height = 10, units = "cm",
filename="paca_rate.png", path=here::here("output"),
)
rn(measure_paca)
rm(measure_paca)
measure_paca <- read.delim(here("output", "measures",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
measure_paca <- measure_paca %>% distinct(date, .keep_all = TRUE)
measure_paca$date <- as.Date(measure_paca$date,format = "%Y-%m-%d")
paca_rates <- ggplot(data = measure_paca,
aes(date, pa_ca)) +
stat_summary(fun = sum, geom = "line") + # or "bar"
scale_x_date(date_breaks = "1 month",
date_labels = "%Y-%m")+#%B
xlab("Time")+
ylab("Pa Ca diagn (rate)")+
labs(colour = "Station")+
theme_bw()+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggsave(
plot= paca_rate, dpi=600,width = 10,height = 10, units = "cm",
filename="paca_rate.png", path=here::here("output"),
)
measure_paca <- read.delim(here("output", "measures",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
measure_paca <- measure_paca %>% distinct(date, .keep_all = TRUE)
measure_paca$date <- as.Date(measure_paca$date,format = "%Y-%m-%d")
paca_rate <- ggplot(data = measure_paca,
aes(date, pa_ca)) +
stat_summary(fun = sum, geom = "line") + # or "bar"
scale_x_date(date_breaks = "1 month",
date_labels = "%Y-%m")+#%B
xlab("Time")+
ylab("Pa Ca diagn (rate)")+
labs(colour = "Station")+
theme_bw()+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggsave(
plot= paca_rate, dpi=600,width = 10,height = 10, units = "cm",
filename="paca_rate.png", path=here::here("output"),
)
measure_paca <- read.csv(here("output", "measures",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
measure_paca <- read.csv(here("output", "measure",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
measure_paca <- read_csv(here::here("output", "measures",
"measure_pa_ca_diagnosis.csv"))
measure_paca <- read.delim(here("output", "measures",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
measure_paca <- read.delim(here("output",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
measure_paca <- measure_paca %>% distinct(date, .keep_all = TRUE)
measure_paca$date <- as.Date(measure_paca$date,format = "%Y-%m-%d")
paca_rate <- ggplot(data = measure_paca,
aes(date, pa_ca)) +
stat_summary(fun = sum, geom = "line") + # or "bar"
scale_x_date(date_breaks = "1 month",
date_labels = "%Y-%m")+#%B
xlab("Time")+
ylab("Pa Ca diagn (rate)")+
labs(colour = "Station")+
theme_bw()+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggsave(
plot= paca_rate, dpi=600,width = 10,height = 10, units = "cm",
filename="paca_rate.png", path=here::here("output"),
)
measure_paca <- read.delim(here("output",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
#measure_paca <- measure_paca %>% distinct(date, .keep_all = TRUE)
measure_paca$date <- as.Date(measure_paca$date,format = "%Y-%m-%d")
paca_rate <- ggplot(data = measure_paca,
aes(date, pa_ca)) +
stat_summary(fun = sum, geom = "line") + # or "bar"
scale_x_date(date_breaks = "1 month",
date_labels = "%Y-%m")+#%B
xlab("Time")+
ylab("Pa Ca diagn (rate)")+
labs(colour = "Station")+
theme_bw()+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggsave(
plot= paca_rate, dpi=600,width = 10,height = 10, units = "cm",
filename="paca_rate.png", path=here::here("output"),
)
View(measure_paca)
measure_paca <- read.delim(here("output",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
#measure_paca <- measure_paca %>% distinct(date, .keep_all = TRUE)
measure_paca$date <- as.Date(measure_paca$date,format = "%Y-%m-%d")
paca_rate <- ggplot(data = measure_paca,
aes(date, pa_ca)) +
stat_summary(fun = sum, geom = "line") + # or "bar"
scale_x_date(date_breaks = "1 month",
date_labels = "%Y-%m")+#%B
xlab("Time")+
ylab("Pa Ca diagn (rate)")+
labs(colour = "Station")+
theme_bw()+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggsave(
plot= paca_rate, dpi=600,width = 10,height = 10, units = "cm",
filename="paca_rate.png", path=here::here("output"),
)
class(measure_paca)
class(measure_paca$pa_ca)
class(measure_paca$population)
class(measure_paca$value)
measure_paca <- read.delim(here("output",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
measure_paca <- measure_paca %>% distinct(date, .keep_all = TRUE)
measure_paca$date <- as.Date(measure_paca$date,format = "%Y-%m-%d")
measure_paca <- read.delim(here("output",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
measure_paca <- measure_paca %>% distinct(date, .keep_all = TRUE)
View(measure_paca)
measure_paca$date <- as.Date(measure_paca$date,format = "%Y-%m-%d")
measure_paca <- read.delim(here("output",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
measure_paca$date <- as.Date(measure_paca$date,format = "%Y-%m-%d")
measure_paca <- read.delim(here("output",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
measure_paca$date
class(measure_paca$date)
measure_paca <- read.delim(here("output",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
measure_paca$date <- as.Date(measure_paca$date,format = "%d-%m-%Y")
measure_paca <- measure_paca %>% distinct(date, .keep_all = TRUE)
measure_paca <- read.delim(here("output",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
measure_paca$date <- as.Date(measure_paca$date,format = "%d-%m-%Y")
measure_paca <- read.delim(here("output",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
measure_paca$date
measure_paca <- read.delim(here("output",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
measure_paca$date <- as.Date(measure_paca$date,format = "%d/%m/%Y")
measure_paca <- measure_paca %>% distinct(date, .keep_all = TRUE)
paca_rate <- ggplot(data = measure_paca,
aes(date, pa_ca)) +
stat_summary(fun = sum, geom = "line") + # or "bar"
scale_x_date(date_breaks = "1 month",
date_labels = "%Y-%m")+#%B
xlab("Time")+
ylab("Pa Ca diagn (rate)")+
labs(colour = "Station")+
theme_bw()+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggsave(
plot= paca_rate, dpi=600,width = 10,height = 10, units = "cm",
filename="paca_rate.png", path=here::here("output"),
)
paca_rate <- ggplot(data = measure_paca,
aes(date, value))
ggsave(
plot= paca_rate, dpi=600,width = 10,height = 10, units = "cm",
filename="paca_rate.png", path=here::here("output"),
)
paca_rate <- ggplot(data = measure_paca,
aes(date, value)) +
xlab("Time")+
ylab("Pa Ca diagn (rate)")+
labs(colour = "Station")+
theme_bw()+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggsave(
plot= paca_rate, dpi=600,width = 10,height = 10, units = "cm",
filename="paca_rate.png", path=here::here("output"),
)
paca_rate <- ggplot(data = measure_paca,
aes(date, value)) +
#stat_summary(fun = sum, geom = "line") + # or "bar"
scale_x_date(date_breaks = "1 month",
date_labels = "%Y-%m")+#%B
xlab("Time")+
ylab("Pa Ca diagn (rate)")+
labs(colour = "Station")+
theme_bw()+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggsave(
plot= paca_rate, dpi=600,width = 10,height = 10, units = "cm",
filename="paca_rate.png", path=here::here("output"),
)
paca_rate <- ggplot(data = measure_paca,
aes(date, value)) +
geom_line()+
geom_point()+
#stat_summary(fun = sum, geom = "line") + # or "bar"
scale_x_date(date_breaks = "1 month",
date_labels = "%Y-%m")+#%B
xlab("Time")+
ylab("Pa Ca diagn (rate)")+
labs(colour = "Station")+
theme_bw()+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggsave(
plot= paca_rate, dpi=600,width = 10,height = 10, units = "cm",
filename="paca_rate.png", path=here::here("output"),
)
measure_paca <- read.delim(here("output", "measures"
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
measure_paca <- read.delim(here("output", "measures",
"measure_pa_ca_diagnosis.csv"),
header=TRUE, sep=",")
